{"ast":null,"code":"import React from \"react\";\nimport Chart from 'chart.js';\n\nconst useCreateChart = (containerId, data, title, colorRGBA, type, timeoutSec = 7) => {\n  const buildNewChart = ctx => {\n    const myChart = new Chart(ctx, {\n      type,\n      data: {\n        labels: data.labels,\n        datasets: [{\n          label: title,\n          data: data.data,\n          backgroundColor: [rgbToRgbaColor(colorRGBA, 0.2)],\n          borderColor: [rgbToRgbaColor(colorRGBA, 1)],\n          borderWidth: 1\n        }]\n      },\n      options: {\n        legend: {\n          fontSize: 44\n        }\n      }\n    });\n    return myChart;\n  };\n\n  React.useEffect(() => {\n    var retries = 0;\n\n    const creatChart = () => {\n      retries += 0;\n      if (retries > timeoutSec * 10) return;\n      const element = document.getElementById(containerId);\n\n      if (element) {\n        const ctx = element.getContext('2d');\n\n        if (ctx) {\n          buildNewChart(ctx);\n        }\n      } else {\n        setTimeout(creatChart, 100);\n      }\n    };\n\n    creatChart();\n  }, [containerId]);\n};\n\nconst rgbToRgbaColor = (rgb, a) => {\n  return rgb.replace('rgb', 'rgba').replace(')', `, ${a})`);\n};\n\nexport default useCreateChart;","map":{"version":3,"sources":["/Users/islambenabba/Desktop/diggit/src/components/Chart/useCreateChart.jsx"],"names":["React","Chart","useCreateChart","containerId","data","title","colorRGBA","type","timeoutSec","buildNewChart","ctx","myChart","labels","datasets","label","backgroundColor","rgbToRgbaColor","borderColor","borderWidth","options","legend","fontSize","useEffect","retries","creatChart","element","document","getElementById","getContext","setTimeout","rgb","a","replace"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,MAAkB,UAAlB;;AAEA,MAAMC,cAAc,GAAG,CAACC,WAAD,EAAcC,IAAd,EAAoBC,KAApB,EAA2BC,SAA3B,EAAsCC,IAAtC,EAA4CC,UAAU,GAAG,CAAzD,KAA+D;AAElF,QAAMC,aAAa,GAAIC,GAAD,IAAS;AAC3B,UAAMC,OAAO,GAAG,IAAIV,KAAJ,CAAUS,GAAV,EAAe;AAC3BH,MAAAA,IAD2B;AAE3BH,MAAAA,IAAI,EAAE;AACFQ,QAAAA,MAAM,EAAER,IAAI,CAACQ,MADX;AAEFC,QAAAA,QAAQ,EAAE,CAAC;AACPC,UAAAA,KAAK,EAAET,KADA;AAEPD,UAAAA,IAAI,EAAEA,IAAI,CAACA,IAFJ;AAGPW,UAAAA,eAAe,EAAE,CACbC,cAAc,CAACV,SAAD,EAAY,GAAZ,CADD,CAHV;AAMPW,UAAAA,WAAW,EAAE,CACTD,cAAc,CAACV,SAAD,EAAY,CAAZ,CADL,CANN;AASPY,UAAAA,WAAW,EAAE;AATN,SAAD;AAFR,OAFqB;AAgB3BC,MAAAA,OAAO,EAAE;AACLC,QAAAA,MAAM,EAAE;AACJC,UAAAA,QAAQ,EAAE;AADN;AADH;AAhBkB,KAAf,CAAhB;AAsBA,WAAOV,OAAP;AACH,GAxBD;;AA0BAX,EAAAA,KAAK,CAACsB,SAAN,CAAgB,MAAM;AAClB,QAAIC,OAAO,GAAG,CAAd;;AACA,UAAMC,UAAU,GAAG,MAAM;AACrBD,MAAAA,OAAO,IAAI,CAAX;AACA,UAAIA,OAAO,GAAGf,UAAU,GAAG,EAA3B,EAA+B;AAC/B,YAAMiB,OAAO,GAAGC,QAAQ,CAACC,cAAT,CAAwBxB,WAAxB,CAAhB;;AAEA,UAAIsB,OAAJ,EAAa;AACT,cAAMf,GAAG,GAAGe,OAAO,CAACG,UAAR,CAAmB,IAAnB,CAAZ;;AACA,YAAIlB,GAAJ,EAAS;AACLD,UAAAA,aAAa,CAACC,GAAD,CAAb;AACH;AACJ,OALD,MAKO;AACHmB,QAAAA,UAAU,CAACL,UAAD,EAAa,GAAb,CAAV;AACH;AACJ,KAbD;;AAeAA,IAAAA,UAAU;AACb,GAlBD,EAkBG,CAACrB,WAAD,CAlBH;AAoBH,CAhDD;;AAiDA,MAAMa,cAAc,GAAG,CAACc,GAAD,EAAMC,CAAN,KAAY;AAC/B,SAAOD,GAAG,CAACE,OAAJ,CAAY,KAAZ,EAAmB,MAAnB,EAA2BA,OAA3B,CAAmC,GAAnC,EAAyC,KAAID,CAAE,GAA/C,CAAP;AACH,CAFD;;AAIA,eAAe7B,cAAf","sourcesContent":["import React from \"react\";\nimport Chart from 'chart.js';\n\nconst useCreateChart = (containerId, data, title, colorRGBA, type, timeoutSec = 7) => {\n\n    const buildNewChart = (ctx) => {\n        const myChart = new Chart(ctx, {\n            type,\n            data: {\n                labels: data.labels,\n                datasets: [{\n                    label: title,\n                    data: data.data,\n                    backgroundColor: [\n                        rgbToRgbaColor(colorRGBA, 0.2),\n                    ],\n                    borderColor: [\n                        rgbToRgbaColor(colorRGBA, 1),\n                    ],\n                    borderWidth: 1\n                }]\n            },\n            options: {\n                legend: {\n                    fontSize: 44,\n                }\n            }\n        });\n        return myChart;\n    }\n\n    React.useEffect(() => {\n        var retries = 0;\n        const creatChart = () => {\n            retries += 0;\n            if (retries > timeoutSec * 10) return;\n            const element = document.getElementById(containerId)\n\n            if (element) {\n                const ctx = element.getContext('2d');\n                if (ctx) {\n                    buildNewChart(ctx);\n                }\n            } else {\n                setTimeout(creatChart, 100);\n            }\n        };\n\n        creatChart();\n    }, [containerId]);\n\n}\nconst rgbToRgbaColor = (rgb, a) => {\n    return rgb.replace('rgb', 'rgba').replace(')', `, ${a})`)\n}\n\nexport default useCreateChart;\n"]},"metadata":{},"sourceType":"module"}